# CloudRun Helm Chart

*A Helm chart to template the manifest of a Cloud Run service or job.*

## Properties

- **`args`** *(['array'])*: Arguments to pass to the command.
- **`autoscaling`** *(object)*
  - **`maxConcurrentRequests`** *(['integer'])*: The number of concurrent requests per instance. Controls how many requests are processed before the autoscaler scales up. Setting this to 1 means 1 request per instance at a time. Default: `80`.
  - **`maxScale`** *(['integer'])*: Maximum number of replicas to scale up to. Default: `100`.
  - **`minScale`** *(['integer'])*: Minimum number of replicas to scale down to. 0 enables scale to zero. Default: `0`.
- **`command`** *(['array'])*: Command to run in the container.
- **`containerPort`** *(['integer'])*: Container port to expose. In CloudRun only a single port can be exposed and defaults to 8080.
- **`description`** *(['string', 'null'])*: A human-readable description of the CloudRun service.
- **`env`** *(['object'])*: Environment variables to set in the CloudRun container.
- **`executionEnvironment`** *(['string'])*: The execution environment to use for the CloudRun container. Must be either 'gen2' or 'gen1'.
- **`image`** *(['object', 'string'], required)*: Container image to deploy. You can provide a direct reference to an image or split up the inputs.
  - **`name`** *(['string'], required)*: Container image name.
  - **`registry`** *(['string', 'null'])*: Container image registry.
  - **`repository`** *(['string'], required)*: Container image repository.
  - **`tag`** *(['string', 'null'])*: Container image tag. For example, 'latest' or '@sha256:abc123'.
- **`ingress`** *(['string'])*: The ingress settings for the CloudRun service. Controls where the service can be accessed from. Must be one of: `["all", "internal", "internal-and-cloud-load-balancing"]`.
- **`labels`** *(['object'])*: Labels to add to the CloudRun container. Must conform to the CloudRun label schema.
- **`launchStage`** *(['string'], required)*: The launch stage of the CloudRun service. Controls feature availability and SLA. Must be one of: `["ALPHA", "BETA", "GA"]`.
- **`livenessProbe`** *(['object'])*: Configuration for liveness probe health checking.
  - **`failureThreshold`** *(['integer', 'null'])*: Number of consecutive failures before considering the container unhealthy.
  - **`httpGet`** *(['object'])*: HTTP GET probe configuration.
    - **`path`** *(['string'])*: Path to probe for HTTP health check.
    - **`port`** *(['integer', 'string'])*: Port to probe for HTTP health check.
  - **`initialDelaySeconds`** *(['integer', 'null'])*: Number of seconds to wait before starting probe checks.
  - **`periodSeconds`** *(['integer', 'null'])*: How often to perform probe checks.
- **`name`** *(['string'], required)*: Name of the CloudRun  resource to deploy. Truncated to 63 characters.
- **`readinessProbe`** *(['object'])*: Configuration for readiness probe health checking.
  - **`failureThreshold`** *(['integer', 'null'])*: Number of consecutive failures before considering the container not ready.
  - **`httpGet`** *(['object'])*: HTTP GET probe configuration.
    - **`path`** *(['string'])*: Path to probe for HTTP health check.
    - **`port`** *(['integer', 'string'])*: Port to probe for HTTP health check.
  - **`initialDelaySeconds`** *(['integer', 'null'])*: Number of seconds to wait before starting probe checks.
  - **`periodSeconds`** *(['integer', 'null'])*: How often to perform probe checks.
- **`region`** *(['string'], required)*: The region to deploy the CloudRun service to.
- **`resources`** *(['object'])*: Resource requests and limits for the CloudRun container. If not provided, defaults are used.
  - **`cpuThrottling`** *(['boolean'])*: Whether to throttle the CPU. This has significant impact on billing. Default: `true`.
  - **`limits`** *(object)*
    - **`cpu`** *(['integer'])*: Maximum CPUs to allocate for the CloudRun container. Can be 1, 2, 4, 6, 8, or any fractional value from 0.01 to 1. Default: `1`.
    - **`memory`** *(['string'])*: Maximum memory to allocate for the CloudRun container. Requires a minimum number of CPUs of 2 over 4GiB.
  - **`startupBoost`** *(['boolean'])*: Whether to boost the CPUs at the start of the container. Default: `false`.
- **`serviceAccountName`** *(['string', 'null'])*: Service account to use to run the CloudRun container. If not provided, the default service account of the project is used.
- **`sessionAffinity`** *(['boolean'])*: Whether to enable session affinity for the CloudRun service. When enabled, requests from the same client are routed to the same container instance. Default: `false`.
- **`startupProbe`** *(['object'])*: Configuration for startup probe health checking.
  - **`failureThreshold`** *(['integer', 'null'])*: Number of consecutive failures before considering the startup failed.
  - **`httpGet`** *(['object'])*: HTTP GET probe configuration.
    - **`path`** *(['string'])*: Path to probe for HTTP health check.
    - **`port`** *(['integer', 'string'])*: Port to probe for HTTP health check. Default: `8080`.
  - **`initialDelaySeconds`** *(['integer', 'null'])*: Number of seconds to wait before starting probe checks.
  - **`periodSeconds`** *(['integer', 'null'])*: How often to perform probe checks.
- **`timeoutSeconds`** *(['integer'])*: The maximum time the container will wait before responding with a 504 error. Default: `60`.
- **`type`** *(['string'], required)*: Type of CloudRun resource to deploy. Must be either 'service' or 'job'. Must be one of: `["service", "job"]`.
- **`volumeMounts`** *(array)*
- **`volumes`** *(array)*
- **`vpc`** *(object)*
  - **`connector`** *(['string', 'null'])*: Name of the VPC connector to use for the CloudRun container. Uses a serverless VPC access connector. Cannot be used with network.
  - **`egress`** *(['string'])*: Name of the VPC egress to use for the CloudRun container. Must be one of: `["private-ranges-only", "all-traffic"]`.
  - **`network`** *(['string', 'null'])*: Name of the VPC network to use to create a direct VPC connection. Must be used tohether with subnetwork. Cannot be used with connector.
  - **`subnetwork`** *(['string', 'null'])*: Name of the VPC subnetwork to use to create a direct VPC connection. Must be used together with network. Cannot be used with connector.
